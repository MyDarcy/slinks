<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>短链接生成系统slinks |说明文档</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="4nza" id="短链接生成系统slinks-说明文档">短链接生成系统slinks |说明文档</h1><p data-anchor-id="v6wy"><code>s.xawei.me</code></p><hr><div class="md-section-divider"></div><h2 data-anchor-id="vv0p" id="主要功能">主要功能</h2><ol data-anchor-id="cosv">
<li>输入长链接，输出短链接</li>
<li>根据短链接，查询长链接</li>
<li>根据短连接，跳转长链接</li>
</ol><div class="md-section-divider"></div><h2 data-anchor-id="19a1" id="接口协议格式">接口协议格式</h2><p data-anchor-id="dwy6">POST <a href="http://s.xawei.me/v1/genlink" target="_blank">http://s.xawei.me/v1/genlink</a>  生成短链接</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="lco6"><ol class="linenums"><li class="L0"><code><span class="pun">入参：</span></code></li><li class="L1"><code><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="str">"llink"</span><span class="pun">:</span><span class="str">"http://xxx.long link.xxx"</span><span class="pln"> </span><span class="com">//长链接</span></code></li><li class="L3"><code><span class="pun">}</span></code></li><li class="L4"><code><span class="pun">返回：</span></code></li><li class="L5"><code><span class="pun">{</span></code></li><li class="L6"><code><span class="pln">  </span><span class="str">"code"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="com">//1成功，-1失败</span></code></li><li class="L7"><code><span class="pln">  </span><span class="str">"data"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code><span class="pln">    </span><span class="str">"llink"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://xxx.long link.xxx"</span><span class="pun">,</span><span class="pln"> </span><span class="com">//长链接</span></code></li><li class="L9"><code><span class="pln">    </span><span class="str">"slink"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://s.xawei.me/s/xxx"</span><span class="pln">      </span><span class="com">//对应长链接生成的短链接</span></code></li><li class="L0"><code><span class="pln">  </span><span class="pun">},</span></code></li><li class="L1"><code><span class="pln">  </span><span class="str">"msg"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"gen slink success"</span><span class="pln">            </span><span class="com">//回包说明</span></code></li><li class="L2"><code><span class="pun">}</span></code></li></ol></pre><hr><p data-anchor-id="2hez">POST <a href="http://s.xawei.me/v1/genlink" target="_blank">http://s.xawei.me/v1/genlink</a>  查询短链接对应的长链接</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ejv5"><ol class="linenums"><li class="L0"><code><span class="pun">入参：</span></code></li><li class="L1"><code><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="str">"slink"</span><span class="pun">:</span><span class="str">"http://s.xawei.me/s/xxx"</span><span class="pln"> </span><span class="com">//短链接</span></code></li><li class="L3"><code><span class="pun">}</span></code></li><li class="L4"><code><span class="pun">返回</span></code></li><li class="L5"><code><span class="pun">{</span></code></li><li class="L6"><code><span class="pln">  </span><span class="str">"code"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">        </span><span class="com">//1成功，-1失败</span></code></li><li class="L7"><code><span class="pln">  </span><span class="str">"data"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code><span class="pln">    </span><span class="str">"Id"</span><span class="pun">:</span><span class="pln"> x</span><span class="pun">,</span></code></li><li class="L9"><code><span class="pln">    </span><span class="str">"Slink"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"xxx"</span><span class="pun">,</span><span class="pln">                     </span><span class="com">//短链接后缀</span></code></li><li class="L0"><code><span class="pln">    </span><span class="str">"Llink"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://xawei.me/about/"</span><span class="pln">  </span><span class="com">//短链接s.xawei.me/s/xxx对应的长链接</span></code></li><li class="L1"><code><span class="pln">  </span><span class="pun">},</span></code></li><li class="L2"><code><span class="pln">  </span><span class="str">"msg"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"get link success"</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre><hr><p data-anchor-id="8bf1">GET <a href="http://s.xawei.me/s/xxx" target="_blank">http://s.xawei.me/s/xxx</a>  短链接跳转长链接</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="qe4m"><ol class="linenums"><li class="L0"><code><span class="pun">根据短链接直接跳转至对应的长链接。</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="3q4v" id="示例">示例</h2><p data-anchor-id="z7qk">假设有长链接： <br>
<a href="http://xawei.me/2017/07/30/%E5%8D%95%E5%AE%9E%E4%BE%8BRedis%E6%9E%84%E5%BB%BA%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E4%B8%AD%E7%9A%84ABA%E9%97%AE%E9%A2%98/" target="_blank">http://xawei.me/2017/07/30/%E5%8D%95%E5%AE%9E%E4%BE%8BRedis%E6%9E%84%E5%BB%BA%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E4%B8%AD%E7%9A%84ABA%E9%97%AE%E9%A2%98/</a> <br>
希望转换成短链接，则可调用接口<a href="http://s.xawei.me/v1/genlink" target="_blank">http://s.xawei.me/v1/genlink</a> 如下：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="bz18"><ol class="linenums"><li class="L0"><code><span class="pln">POST http</span><span class="pun">:</span><span class="com">//s.xawei.me/v1/genlink</span></code></li><li class="L1"><code><span class="pun">参数：</span></code></li><li class="L2"><code><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    </span><span class="str">"llink"</span><span class="pun">:</span><span class="str">"http://xawei.me/2017/07/30/%E5%8D%95%E5%AE%9E%E4%BE%8BRedis%E6%9E%84%E5%BB%BA%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E4%B8%AD%E7%9A%84ABA%E9%97%AE%E9%A2%98/"</span><span class="pln"> </span><span class="com">//长链接</span></code></li><li class="L4"><code><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="c2wj">也可以直接使用以下curl命令：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="bo7n"><ol class="linenums"><li class="L0"><code><span class="pln">curl </span><span class="pun">--</span><span class="pln">request POST \</span></code></li><li class="L1"><code><span class="pln">  </span><span class="pun">--</span><span class="pln">url http</span><span class="pun">:</span><span class="com">//s.xawei.me/v1/genslink \</span></code></li><li class="L2"><code><span class="pln">  </span><span class="pun">--</span><span class="pln">header </span><span class="str">'content-type: application/json'</span><span class="pln"> \</span></code></li><li class="L3"><code><span class="pln">  </span><span class="pun">--</span><span class="pln">data </span><span class="str">'{</span></code></li><li class="L4"><code><span class="str">    "llink": "http://xawei.me/2017/07/30/%E5%8D%95%E5%AE%9E%E4%BE%8BRedis%E6%9E%84%E5%BB%BA%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E4%B8%AD%E7%9A%84ABA%E9%97%AE%E9%A2%98/"</span></code></li><li class="L5"><code><span class="str">}'</span></code></li></ol></pre><p data-anchor-id="jos2">得到返回结果：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="gu70"><ol class="linenums"><li class="L0"><code><span class="pun">{</span><span class="str">"code"</span><span class="pun">:</span><span class="lit">1</span><span class="pun">,</span><span class="str">"data"</span><span class="pun">:{</span><span class="str">"llink"</span><span class="pun">:</span><span class="str">"http://xawei.me/2017/07/30/%E5%8D%95%E5%AE%9E%E4%BE%8BRedis%E6%9E%84%E5%BB%BA%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E4%B8%AD%E7%9A%84ABA%E9%97%AE%E9%A2%98/"</span><span class="pun">,</span><span class="str">"slink"</span><span class="pun">:</span><span class="str">"http://s.xawei.me/s/1"</span><span class="pun">},</span><span class="str">"msg"</span><span class="pun">:</span><span class="str">"gen slink success"</span><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="cpmb">则我们可以直接在浏览器访问 <br>
<a href="http://s.xawei.me/s/1" target="_blank">http://s.xawei.me/s/1</a> <br>
即可跳转至长链接 <br>
<a href="http://xawei.me/2017/07/30/%E5%8D%95%E5%AE%9E%E4%BE%8BRedis%E6%9E%84%E5%BB%BA%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E4%B8%AD%E7%9A%84ABA%E9%97%AE%E9%A2%98/" target="_blank">http://xawei.me/2017/07/30/%E5%8D%95%E5%AE%9E%E4%BE%8BRedis%E6%9E%84%E5%BB%BA%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E4%B8%AD%E7%9A%84ABA%E9%97%AE%E9%A2%98/</a></p></div>
</body>
</html>
